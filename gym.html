<!DOCTYPE html>
<html>
<head>
    <title>Gym Clock</title>
</head>
<body>
<div id="clock" style="text-align:center;font-size:500%;">.</div>
<div id="buttons" style="text-align:center;">
    <button onclick="startTimer(90)">90</button>
    <button onclick="startTimer(60)">60</button>
    <button onclick="startTimer(30)">30</button>
    <button onclick="timer(90)">test</button>
</div>
<div id="countdownFrom" style="text-align:center;font-size:5%;">90</div>

<script>
/*
https://github.com/david-hay-eips/recess-countdown/blob/main/periods.html
https://www.codegrepper.com/code-examples/javascript/javascript+timer+countdown+with+seconds
https://stackoverflow.com/questions/31106189/create-a-simple-10-second-countdown
https://stackoverflow.com/questions/1191865/code-for-a-simple-javascript-countdown-timer
*/
function timer(countdownFrom) {
    clearInterval(x);
    var startTime = new Date();
    var countTo = startTime.getSeconds() + countdownFrom;
    // loop this function every second
    var x = setInterval(function() {
        var now = new Date();
        var secondsLeft = countTo - now.getSeconds();
        document.getElementById("clock").innerHTML = secondsLeft;
        // if we're at zero, stop the interval
        if (secondsLeft <= 0) {
            clearInterval(x);
            // Play sound
            // Restart countdown
            var seconds = countdownFrom;
        }
    }, 1000);
    //var now = new Date();
    //var timeLeft = countTo - now.getSeconds();
    //document.getElementById("clock").innerHTML = timeLeft;

}

function startTimer(countdownFrom) {
    var seconds = countdownFrom;
    var now = new Date();
    clearInterval(x);
    var x = setInterval(function() {
        document.getElementById("clock").innerHTML = seconds;
        seconds = seconds - 1;

        //if (seconds < 0) {
            //clearInterval(x);
            // Play sound

            // Restart countdown
            //var seconds = 90;
        //}

        // Sunday or Saturday check
        /*
        if (now.getDay() == 0 || now.getDay() == 6) {
            document.body.style.backgroundColor='#202020';
        } else {
            document.body.style.backgroundColor='#ffffff';
        }//*/

        //document.getElementById("clock").style.color='blue';
        
        //if (hours == 5 && minutes == 30 && seconds == 30) {location.reload(true);} // reload each morning for an update
    }, 1000); // updating setInterval every 1000 milliseconds
}
</script>
</body>
</html>